<meta charset="utf-8">
    <title>ST.LAWRENCE JUNIOR SCHOOL-KABOWA</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"> 

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- SweetAlert2 for better alerts -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
    
    <!-- Bootstrap JS and Popper.js -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>
</head>


<body>

    <!-- Topbar Start -->
   <!-- Topbar -->
<div class="topbar-container mb-5">
    <div class="container-fluid">
        <div class="row align-items-center py-3 px-sm-3 px-xl-5 d-flex flex-wrap justify-content-between">
            <!-- Logo with Enhanced Animation -->
            <div class="col-sm-3">
                <a href="#" class="text-decoration-none logo-container">
                    <div class="logo-wrapper">
                        <img src="img/5.jpg" alt="Logo" class="img-fluid logo floating-logo">
                        <div class="logo-glow"></div>
                    </div>
                    <div class="logo-badge">
                        <span class="badge badge-school"></span>
                    </div>
                </a>
            </div>

            <!-- Scrolling Content Container -->
            <div class="col-sm-9 scrolling-content">
                <div class="scrolling-wrapper">
                    <!-- Office Location -->
                    <div class="contact-item" data-toggle="tooltip" data-placement="bottom" title="P.O.BOX 36198, KAMPALA, UGANDA">
                        <div class="contact-icon">
                            <i class="fa fa-2x fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-info">
                            <h6 class="font-weight-bold mb-0">Our Office</h6>
                            <small class="text-muted">P.O.BOX 36198, KAMPALA, UGANDA</small>
                        </div>
                        <div class="badge-container">
                            <span class="badge badge-primary">New</span>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="contact-item" data-toggle="tooltip" data-placement="bottom" title="st.lawrence.juniorschool@yahoo.com">
                        <div class="contact-icon">
                            <i class="fa fa-2x fa-envelope"></i>
                        </div>
                        <div class="contact-info">
                            <h6 class="font-weight-bold mb-0">Email Us</h6>
                            <small class="text-muted">st.lawrence.juniorschool@yahoo.com</small>
                        </div>
                        <div class="badge-container">
                            <span class="badge badge-success">Active</span>
                        </div>
                    </div>

                    <!-- Phone -->
                    <div class="contact-item" data-toggle="tooltip" data-placement="bottom" title="+256 772 420 506, +256 701 420 506">
                        <div class="contact-icon">
                            <i class="fa fa-2x fa-phone"></i>
                        </div>
                        <div class="contact-info">
                            <h6 class="font-weight-bold mb-0">Call Us</h6>
                            <small class="text-muted">+256 772 420 506, +256 701 420 506</small>
                        </div>
                        <div class="badge-container">
                            <span class="badge badge-info">24/7</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Topbar Styles */
.topbar-container {
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    position: relative;
    z-index: 1000;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    overflow: hidden;
}

.scrolling-content {
    overflow: hidden;
    position: relative;
}

.scrolling-wrapper {
    display: flex;
    width: fit-content;
}

/* Enhanced Logo Styles */
.logo-container {
    position: relative;
    display: inline-block;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.logo-wrapper {
    position: relative;
    display: inline-block;
    padding: 5px;
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(5px);
}

.floating-logo {
    max-height: 80px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    animation: floatLogo 4s ease-in-out infinite;
    border-radius: 12px;
}

.logo-glow {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, rgba(11, 87, 208, 0.2) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.4s ease;
    border-radius: 15px;
    pointer-events: none;
}

.logo-container:hover .logo-glow {
    opacity: 1;
}

.logo-container:hover .floating-logo {
    transform: scale(1.08) rotate(2deg);
    filter: drop-shadow(0 8px 16px rgba(11, 87, 208, 0.3));
}

.logo-badge {
    position: absolute;
    bottom: -15px;
    left: 50%;
    transform: translateX(-50%);
    animation: badgePulse 3s ease-in-out infinite;
    z-index: 2;
}

.badge-school {
    background: linear-gradient(135deg, #0b57d0 0%, #0a4da3 100%);
    color: white;
    padding: 12px;
    border-radius: 50%;
    box-shadow: 0 4px 15px rgba(11, 87, 208, 0.3);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    width: 45px;
    height: 45px;
    position: relative;
    overflow: hidden;
}

.badge-school::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    transform: rotate(45deg);
    animation: shine 3s infinite;
}

.logo-container:hover .badge-school {
    transform: translateX(-50%) scale(1.15) rotate(180deg);
    box-shadow: 0 8px 25px rgba(11, 87, 208, 0.4);
    background: linear-gradient(135deg, #0c63e4 0%, #0b57d0 100%);
}

@keyframes shine {
    0% {
        transform: translateX(-100%) rotate(45deg);
    }
    100% {
        transform: translateX(100%) rotate(45deg);
    }
}

@keyframes floatLogo {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
    }
    25% {
        transform: translateY(-8px) rotate(-1deg);
    }
    75% {
        transform: translateY(8px) rotate(1deg);
    }
}

@keyframes badgePulse {
    0%, 100% {
        transform: translateX(-50%) scale(1);
    }
    50% {
        transform: translateX(-50%) scale(1.08);
    }
}

.contact-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    border-radius: 10px;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(0, 0, 0, 0.05);
    margin-bottom: 10px;
}

.contact-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    background: #ffffff;
}

.contact-icon {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(11, 87, 208, 0.1);
    border-radius: 50%;
    margin-right: 15px;
    transition: all 0.3s ease;
}

.contact-item:hover .contact-icon {
    background: #0b57d0;
    transform: rotate(360deg);
}

.contact-item:hover .contact-icon i {
    color: #ffffff;
}

.contact-icon i {
    color: #0b57d0;
    transition: all 0.3s ease;
}

.contact-info h6 {
    font-size: 1rem;
    color: #333;
    margin-bottom: 2px;
}

.contact-info small {
    font-size: 0.875rem;
    color: #666;
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 200px;
}

/* Responsive Design */
@media (max-width: 991px) {
    .topbar-container .logo {
        max-height: 60px;
    }

    .topbar-container .contact-item {
        margin-bottom: 10px;
        width: 100%;
    }

    .contact-info small {
        max-width: 100%;
    }
}

@media (max-width: 768px) {
    .topbar-container {
        padding: 0;
    }
    .topbar-container .container-fluid {
        padding-left: var(--bs-gutter-x, 0.75rem);
        padding-right: var(--bs-gutter-x, 0.75rem);
    }
    .topbar-container .container-fluid > .row {
        flex-direction: column !important;
        align-items: center !important;
        padding: 10px 0 !important;
    }
    .topbar-container .col-sm-3, .topbar-container .col-sm-9 {
        width: 100% !important;
        max-width: 100% !important;
        flex: 0 0 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    .logo-container {
        display: flex;
        justify-content: center;
        margin-bottom: 15px;
    }
    .scrolling-content {
        width: 100%;
        overflow-x: hidden; /* Prevent horizontal scrolling */
        padding-bottom: 0;
        -webkit-overflow-scrolling: auto;
        white-space: normal; /* Allow items to wrap */
        padding: 0;
        box-sizing: border-box;
    }
    .scrolling-wrapper {
        display: flex; /* Change to flex */
        flex-direction: column; /* Stack vertically */
        width: 100%; /* Take full width */
        padding-bottom: 0;
        box-sizing: border-box;
        padding: 0;
    }
    .contact-item {
        flex-shrink: 0;
        flex-basis: auto;
        min-width: unset; /* Remove min-width */
        width: 100%; /* Take full width */
        margin: 0 0 10px 0; /* Vertical margin */
        padding: 10px;
        align-items: center;
        justify-content: space-between;
        white-space: normal;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        flex-grow: 0;
    }
    .contact-icon {
        flex-shrink: 0;
        margin-right: 10px;
        width: 38px;
        height: 38px;
    }
    .contact-icon i {
        font-size: 1.2rem;
    }
    .contact-info h6 {
        font-size: 0.95rem;
        margin-bottom: 0;
    }
    .contact-info small {
        font-size: 0.8rem;
        white-space: normal; /* Allow text to wrap */
        overflow: visible;
        text-overflow: clip;
        max-width: 100%;
    }
    .badge-container {
        flex-shrink: 0;
        margin-left: 8px;
    }
    .badge {
        font-size: 0.7rem;
        padding: 3px 7px;
        white-space: nowrap;
    }
}

@media (max-width: 576px) {
    .topbar-container {
        padding: 10px 0;
    }

    .topbar-container .logo {
        max-height: 50px;
        margin-bottom: 15px;
    }

    .contact-icon {
        width: 40px;
        height: 40px;
    }

    .contact-icon i {
        font-size: 1.2rem;
    }

    .contact-info h6 {
        font-size: 0.9rem;
    }

    .contact-info small {
        font-size: 0.8rem;
    }
}

@media (max-width: 480px) {
    .topbar-container {
        padding: 0;
    }
    .topbar-container .container-fluid {
        padding-left: var(--bs-gutter-x, 0.75rem);
        padding-right: var(--bs-gutter-x, 0.75rem);
    }
    .scrolling-content {
        padding: 0;
    }
    .scrolling-wrapper {
        width: 100%;
        padding: 0;
    }
    .contact-item {
        min-width: unset;
        padding: 8px;
        margin: 0 0 8px 0;
    }
    .contact-icon {
        width: 30px;
        height: 30px;
        margin-right: 8px;
    }
    .contact-icon i {
        font-size: 1rem;
    }
    .contact-info h6 {
        font-size: 0.85rem;
    }
    .contact-info small {
        font-size: 0.7rem;
        white-space: normal; /* Allow text to wrap */
        overflow: visible;
        text-overflow: clip;
        max-width: 100%;
    }
    .badge {
        font-size: 0.6rem;
        padding: 2px 5px;
        white-space: nowrap;
    }
}
</style>



    <div class="container-fluid">
        <div class="row border-top px-xl-5">
            <div class="col-lg-3 d-none d-lg-block">
                <a class="d-flex align-items-center justify-content-between bg-secondary w-100 text-decoration-none" data-toggle="collapse" href="#navbar-vertical" style="height: 67px; padding: 0 30px; animation: slideInLeft 1s ease-in-out;">
                    <h5 class=" m-0" style="animation: zoomIn 1s ease-in-out; color: #0b57d0;"><i class="fa fa-book-open mr-2"></i>Subjects</h5>
                    <i class="fa fa-angle-down " style="animation: bounce 1.5s infinite; color: #0b57d0;"></i>
                </a>
                <nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0 bg-light" id="navbar-vertical" style="width: calc(100% - 30px); z-index: 9; animation: slideInLeft 1s ease-in-out;">
                    <div class="navbar-nav w-100">
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link" data-toggle="dropdown" style="animation: slideInLeft 1.2s ease-in-out;">Social Studies <i class="fa fa-angle-down float-right mt-1"></i></a>
                            <div class="dropdown-menu position-absolute bg-secondary border-0 rounded-0 w-100 m-0" style="animation: slideInLeft 1.4s ease-in-out;">
                                <a href="" class="dropdown-item">Geography</a>
                                <a href="" class="dropdown-item">History</a>
                                <a href="" class="dropdown-item">Religious Education</a>
                            </div>
                        </div>
                        <a href="" class="nav-item nav-link" style="animation: slideInLeft 1.6s ease-in-out;">English Language</a>
                        <a href="" class="nav-item nav-link" style="animation: slideInLeft 1.8s ease-in-out;">Mathematics</a>
                        <a href="" class="nav-item nav-link" style="animation: slideInLeft 2s ease-in-out;">Research</a>
                        <a href="" class="nav-item nav-link" style="animation: slideInLeft 2.2s ease-in-out;">Intergrated Science</a>
                    </div>
                </nav>
            </div>
            <div class="col-lg-9">
                <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0 " style="animation: fadeIn 1s ease-in-out;">
                    <a href="" class="text-decoration-none d-block d-lg-none">
                        </a>
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                        <div class="navbar-nav py-0">
                            <a href="index.html" class="nav-item nav-link " style="animation: fadeInUp 1s ease-in-out; color: #0b57d0;">Home</a>
                            <a href="About.html" class="nav-item nav-link" style="animation: fadeInUp 1.2s ease-in-out; color: #0b57d0;">About</a>
                            <!-- <a href="Subjects.html" class="nav-item nav-link" style="animation: fadeInUp 1.4s ease-in-out;">Subjects</a> -->
                            <a href="Teachers.html" class="nav-item nav-link" style="animation: fadeInUp 1.6s ease-in-out; color: #0b57d0;">Teachers</a>
                            <a href="Gallery.html" class="nav-item nav-link" style="animation: fadeInUp 1.8s ease-in-out; color: #0b57d0;">Gallery</a>
                            <div class="nav-item dropdown" style="animation: fadeInUp 2s ease-in-out;">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" style="color: #0b57d0;">
                                    <i class="fas fa-money-bill-wave mr-1"></i>Fees
                                </a>
                                <div class="dropdown-menu rounded-0 m-0">
                                    <a href="Admission.html" class="dropdown-item">
                                        <i class="fas fa-user-plus mr-2"></i>Admission
                                    </a>
                                    <a href="Fees Structure.html" class="dropdown-item">
                                        <i class="fas fa-file-invoice-dollar mr-2"></i>Fees Structure
                                    </a>
                                </div>
                            </div>
                            <a href="Contact.html" class="nav-item nav-link" style="animation: fadeInUp 2.2s ease-in-out; color: #0b57d0;">Contact</a>
                            <a href="Library.html" class="nav-item nav-link" style="animation: fadeInUp 2.2s ease-in-out; color: #0b57d0;">Library</a>
                            <a href="Location.html" class="nav-item nav-link" style="animation: fadeInUp 2.4s ease-in-out; color: #0b57d0;">Location</a>
                        </div>
                        </div>
                </nav>
            </div>
        </div>
    </div>
    
    <style>
    /* Keyframes for the animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes zoomIn {
        from {
            opacity: 0;
            transform: scale(0.8);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }
    
    @keyframes slideInLeft {
        from {
            opacity: 0;
            transform: translateX(-20px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
    
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
            transform: translateY(0);
        }
        40%, 60% {
            transform: translateY(-10px); /* Adjust bounce height */
        }
    }
    
    </style>



<div class="container mt-5 mb-5" style="animation: fadeInUp 1s ease-in-out;">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <!-- Add a sticky progress indicator -->
            <div class="sticky-top bg-white py-2 mb-4" style="z-index: 999; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="progress flex-grow-1" style="height: 8px;">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;" id="formProgress"></div>
                    </div>
                    <span class="ml-3" id="progressText">0% Complete</span>
                </div>
            </div>

            <div class="text-center mb-5">
                <h1 class="display-4" style="color: #0b57d0;">Join Our School Family</h1>
                <p class="lead">We are delighted that you are considering St. Lawrence Junior School, Kabowa for your child's education. Our admission process is designed to be straightforward and welcoming. We look for students who are eager to learn and parents who are committed to partnering with us in their child's educational journey.</p>
                
                <!-- Add quick navigation buttons -->
                <div class="quick-nav mt-4">
                    <button class="btn btn-outline-primary m-1" onclick="scrollToSection('studentInfo')">Student Info</button>
                    <button class="btn btn-outline-primary m-1" onclick="scrollToSection('academicDetails')">Academic Details</button>
                    <button class="btn btn-outline-primary m-1" onclick="scrollToSection('parentInfo')">Parent Info</button>
                    <button class="btn btn-outline-primary m-1" onclick="scrollToSection('documents')">Documents</button>
                </div>
            </div>

            <div class="card" style="animation: zoomIn 1s ease-in-out; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.9);">
                <div class="card-header" style="animation: slideInLeft 1s ease-in-out; background-color: #0b57d0; color: white;">
                    <h2 class="mb-0" style="color: white;">Admission Form</h2>
                </div>
                <div class="card-body">
                    <form id="admissionForm" class="needs-validation" novalidate>
                        <!-- Student Information Section -->
                        <fieldset id="studentInfo" class="mb-4 p-3 border rounded">
                            <legend class="w-auto px-2 h5 d-flex justify-content-between align-items-center">
                                <span>Student's Information</span>
                                <span class="badge badge-primary" id="studentInfoBadge">0/7</span>
                            </legend>
                            <div class="form-row">
                                <div class="form-group col-md-6" style="animation: slideInLeft 1.2s ease-in-out;">
                                    <label for="fname">First Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="fname" name="fname" required 
                                        pattern="[A-Za-z\s]+" minlength="2" maxlength="50"
                                        data-validation-required-message="Please enter your first name">
                                    <div class="invalid-feedback">Please enter a valid first name (letters only, 2-50 characters)</div>
                                </div>
                                <div class="form-group col-md-6" style="animation: slideInRight 1.2s ease-in-out;">
                                    <label for="sname">Last Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="sname" name="sname" required 
                                        pattern="[A-Za-z\s]+" minlength="2" maxlength="50"
                                        data-validation-required-message="Please enter your last name">
                                    <div class="invalid-feedback">Please enter a valid last name (letters only, 2-50 characters)</div>
                                </div>
                            </div>
                            <div class="form-row">
                                    <div class="form-group col-md-6" style="animation: slideInLeft 1.4s ease-in-out;">
                                    <label for="age">Age <span class="text-danger">*</span></label>
                                    <input type="number" class="form-control" id="age" name="age" required 
                                            min="2" max="110"
                                        data-validation-required-message="Please enter student's age">
                                        <div class="invalid-feedback">Age must be between 2 and 110 years</div>
                                </div>
                                <div class="form-group col-md-6" style="animation: slideInRight 2s ease-in-out;">
                                    <label for="dob">Date of Birth <span class="text-danger">*</span></label>
                                    <input type="date" class="form-control" id="dob" name="dob" required 
                                        data-validation-required-message="Please enter date of birth">
                                    <div class="invalid-feedback">Please enter a valid date of birth</div>
                                </div>
                            </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6" style="animation: slideInLeft 1.3s ease-in-out;">
                                        <label for="gender">Gender <span class="text-danger">*</span></label>
                                        <select class="form-control" id="gender" name="gender" required>
                                            <option value="">Select Gender</option>
                                            <option value="Male">Male</option>
                                            <option value="Female">Female</option>
                                            <option value="Prefer not to say">Prefer not to say</option>
                                        </select>
                                        <div class="invalid-feedback">Please select a gender.</div>
                            </div>
                                    <div class="form-group col-md-6" style="animation: slideInRight 1.3s ease-in-out;">
                                        <label for="nationality">Nationality <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="nationality" name="nationality" required maxlength="50">
                                        <div class="invalid-feedback">Please enter nationality.</div>
                                    </div>
                                </div>
                                <div class="form-group" style="animation: slideInLeft 1.35s ease-in-out;">
                                    <label for="religion">Religion (Optional)</label>
                                    <input type="text" class="form-control" id="religion" name="religion" maxlength="50">
                                </div>
                                <div class="form-group" style="animation: slideInRight 1.35s ease-in-out;">
                                    <label for="specialNeeds">Any Special Medical Conditions or Allergies (Optional)</label>
                                    <textarea class="form-control" id="specialNeeds" name="specialNeeds" rows="2" maxlength="300"></textarea>
                                </div>
                            <div class="form-group" style="animation: slideInRight 2.4s ease-in-out;">
                                <label for="class">Class to Join <span class="text-danger">*</span></label>
                                <select class="form-control" id="class" name="class" required 
                                    data-validation-required-message="Please select a class">
                                    <option value="">Select Class</option>
                                    <optgroup label="Early Years">
                                        <option value="1">BABY</option>
                                        <option value="2">MIDDLE</option>
                                        <option value="3">TOP</option>
                                    </optgroup>
                                    <optgroup label="Primary School">
                                        <option value="4">Primary 1</option>
                                        <option value="5">Primary 2</option>
                                        <option value="6">Primary 3</option>
                                        <option value="7">Primary 4</option>
                                        <option value="8">Primary 5</option>
                                        <option value="9">Primary 6</option>
                                        <option value="10">Primary 7</option>
                                    </optgroup>
                                </select>
                                <div class="invalid-feedback">Please select a class</div>
                            </div>
                        </fieldset>

                        <!-- Previous Academic Details Section -->
                        <fieldset id="academicDetails" class="mb-4 p-3 border rounded">
                            <legend class="w-auto px-2 h5 d-flex justify-content-between align-items-center">
                                <span>Previous Academic Details</span>
                                <span class="badge badge-primary" id="academicDetailsBadge">0/3</span>
                            </legend>
                            <div class="form-group" style="animation: slideInLeft 2.5s ease-in-out;">
                                <label for="prevSchoolName">Name of Previous School</label>
                                <input type="text" class="form-control" id="prevSchoolName" name="prevSchoolName" maxlength="150">
                                <div class="invalid-feedback">Please enter the name of the previous school.</div>
                            </div>
                            <div class="form-group" style="animation: slideInRight 2.5s ease-in-out;">
                                <label for="prevSchoolAddress">Address of Previous School</label>
                                <textarea class="form-control" id="prevSchoolAddress" name="prevSchoolAddress" rows="2" maxlength="200"></textarea>
                                <div class="invalid-feedback">Please enter the address of the previous school.</div>
                            </div>
                            <div class="form-group" style="animation: slideInLeft 2.5s ease-in-out;">
                                <label for="reasonForLeaving">Reason for Leaving Previous School</label>
                                <textarea class="form-control" id="reasonForLeaving" name="reasonForLeaving" rows="2" maxlength="300"></textarea>
                            </div>
                        </fieldset>

                        <!-- Parent/Guardian Information Section -->
                        <fieldset id="parentInfo" class="mb-4 p-3 border rounded">
                            <legend class="w-auto px-2 h5 d-flex justify-content-between align-items-center">
                                <span>Parent/Guardian's Information</span>
                                <span class="badge badge-primary" id="parentInfoBadge">0/8</span>
                            </legend>
                            <div class="form-group" style="animation: slideInLeft 1.4s ease-in-out;">
                                <label for="parentName">Parent/Guardian Name <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="parentName" name="parentName" required 
                                    pattern="[A-Za-z\s]+" minlength="2" maxlength="100"
                                    data-validation-required-message="Please enter parent/guardian name">
                                <div class="invalid-feedback">Please enter a valid parent/guardian name</div>
                            </div>

                            <div class="form-group" style="animation: slideInRight 1.6s ease-in-out;">
                                <label for="address">Address <span class="text-danger">*</span></label>
                                <textarea class="form-control" id="address" name="address" rows="3" required 
                                    minlength="10" maxlength="200"
                                    data-validation-required-message="Please enter your address"></textarea>
                                <div class="invalid-feedback">Please enter a valid address (10-200 characters)</div>
                            </div>

                            <div class="form-group" style="animation: slideInLeft 1.8s ease-in-out;">
                                <label for="occupation">Parent/Guardian Occupation <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="occupation" name="occupation" required 
                                    minlength="2" maxlength="100"
                                    data-validation-required-message="Please enter parent/guardian occupation">
                                <div class="invalid-feedback">Please enter a valid occupation</div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6" style="animation: slideInLeft 2.2s ease-in-out;">
                                    <label for="nin">Parent/Guardian NIN <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="nin" name="nin" required 
                                        pattern="[A-Z0-9]+" minlength="13" maxlength="13"
                                        data-validation-required-message="Please enter NIN number">
                                    <div class="invalid-feedback">Please enter a valid 13-character NIN number</div>
                                </div>
                                 <div class="form-group col-md-6" style="animation: slideInRight 2.2s ease-in-out;">
                                    <label for="altPhone">Alternative Phone Number</label>
                                    <input type="tel" class="form-control" id="altPhone" name="altPhone" pattern="[0-9\s\(\)\-\+]{7,20}">
                                    <div class="invalid-feedback">Please enter a valid phone number.</div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6" style="animation: slideInLeft 2.25s ease-in-out;">
                                    <label for="email">Email Address <span class="text-danger">*</span></label>
                                    <input type="email" class="form-control" id="email" name="email" required maxlength="100">
                                    <div class="invalid-feedback">Please enter a valid email address.</div>
                                </div>
                                <div class="form-group col-md-6" style="animation: slideInRight 2.25s ease-in-out;">
                                    <label for="relationshipToChild">Relationship to Child <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="relationshipToChild" name="relationshipToChild" required maxlength="50">
                                    <div class="invalid-feedback">Please enter your relationship to the child.</div>
                                </div>
                            </div>
                            <div class="form-group" style="animation: slideInLeft 2.3s ease-in-out;">
                                <label for="howHeard">How did you hear about us? <span class="text-danger">*</span></label>
                                <select class="form-control" id="howHeard" name="howHeard" required>
                                    <option value="">Select an option</option>
                                    <option value="Friend"><i class="fas fa-user-friends mr-2"></i> Through a friend/family</option>
                                    <option value="SocialMedia"><i class="fab fa-facebook-square mr-2"></i> Social Media (Facebook, Instagram, etc.)</option>
                                    <option value="OnlineSearch"><i class="fas fa-globe mr-2"></i> Online Search (Google, etc.)</option>
                                    <option value="SchoolEvent"><i class="fas fa-calendar-alt mr-2"></i> School Event/Open Day</option>
                                    <option value="Other"><i class="fas fa-ellipsis-h mr-2"></i> Other</option>
                                </select>
                                <div class="invalid-feedback">Please tell us how you heard about us.</div>
                            </div>
                        </fieldset>
                        
                        <!-- Emergency Contact Section -->
                        <fieldset id="emergencyContacts" class="mb-4 p-3 border rounded">
                            <legend class="w-auto px-2 h5 d-flex justify-content-between align-items-center">
                                <span>Emergency Contacts</span>
                                <span class="badge badge-primary" id="emergencyContactsBadge">0/3</span>
                            </legend>
                            <div class="form-group" style="animation: slideInLeft 2.6s ease-in-out;">
                                <label for="emergencyContactName">Emergency Contact Full Name <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="emergencyContactName" name="emergencyContactName" required 
                                    pattern="[A-Za-z\s]+" minlength="2" maxlength="100">
                                <div class="invalid-feedback">Please enter the emergency contact's full name.</div>
                            </div>
                            <div class="form-group" style="animation: slideInRight 2.6s ease-in-out;">
                                <label for="emergencyRelationship">Relationship to Student <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="emergencyRelationship" name="emergencyRelationship" required maxlength="50">
                                <div class="invalid-feedback">Please enter the relationship of the emergency contact to the student.</div>
                            </div>
                            <div class="form-group" style="animation: slideInLeft 2.7s ease-in-out;">
                                <label for="emergencyPhone">Emergency Phone Number <span class="text-danger">*</span></label>
                                <input type="tel" class="form-control" id="emergencyPhone" name="emergencyPhone" required 
                                    pattern="[0-9\s\(\)\-\+]{7,20}">
                                <div class="invalid-feedback">Please enter a valid emergency phone number.</div>
                            </div>
                             <div class="form-group" style="animation: slideInRight 2.7s ease-in-out;">
                                <label for="emergencyEmail">Emergency Email Address (Optional)</label>
                                <input type="email" class="form-control" id="emergencyEmail" name="emergencyEmail" maxlength="100">
                                <div class="invalid-feedback">Please enter a valid email address.</div>
                            </div>
                        </fieldset>
                        
                        <!-- Document Upload Section -->
                        <fieldset id="documents" class="mb-4 p-3 border rounded">
                            <legend class="w-auto px-2 h5 d-flex justify-content-between align-items-center">
                                <span>Required Documents</span>
                                <span class="badge badge-primary" id="documentsBadge">0/3</span>
                            </legend>
                            <div class="form-group" style="animation: slideInRight 2.8s ease-in-out;">
                                <div class="custom-file mb-2">
                                        <input type="file" class="custom-file-input" id="birthCertificate" name="birthCertificate" required accept=".pdf,.jpg,.jpeg,.png">
                                    <label class="custom-file-label" for="birthCertificate">Birth Certificate</label>
                                        <div class="invalid-feedback">Please upload birth certificate (PDF, JPG, PNG - max 5MB)</div>
                                </div>
                                <div class="custom-file mb-2">
                                        <input type="file" class="custom-file-input" id="previousReport" name="previousReport" required accept=".pdf,.jpg,.jpeg,.png">
                                    <label class="custom-file-label" for="previousReport">Previous School Report</label>
                                        <div class="invalid-feedback">Please upload previous school report (PDF, JPG, PNG - max 5MB)</div>
                                </div>
                                <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="passportPhoto" name="passportPhoto" required accept=".jpg,.jpeg,.png">
                                    <label class="custom-file-label" for="passportPhoto">Passport Photo</label>
                                        <div class="invalid-feedback">Please upload passport photo (JPG, PNG - max 5MB)</div>
                                </div>
                            </div>
                        </fieldset>

                        <!-- Additional Comments Section -->
                        <fieldset class="mb-4 p-3 border rounded">
                            <legend class="w-auto px-2 h5">Additional Comments (Optional)</legend>
                            <div class="form-group" style="animation: fadeInUp 2.9s ease-in-out;">
                                <textarea class="form-control" id="additionalComments" name="additionalComments" rows="5" maxlength="500" placeholder="Enter any additional comments or information here..."></textarea>
                            </div>
                        </fieldset>

                         <!-- Form Actions -->
                         <div class="form-actions mt-4" style="animation: fadeInUp 3s ease-in-out;">
                             <div class="d-flex flex-wrap justify-content-between align-items-center">
                                 <div class="mb-2">
                                     <button type="button" class="btn btn-secondary mr-2" style="background-color: #0b57d0; color: white;" id="previewButton">
                                         <i class="fas fa-eye mr-1"></i>Preview Application
                                     </button>
                                     <button type="submit" class="btn" style="background-color: #0b57d0; color: white;">
                                         <i class="fas fa-paper-plane mr-1"></i>Submit Application
                                     </button>
                                 </div>
                                 <div>
                                     <button type="button" class="btn btn-info" style="background-color: #17a2b8; color: white;" id="downloadButton">
                                         <i class="fas fa-download mr-1"></i>Download PDF
                                     </button>
                                     <button type="button" class="btn btn-outline-secondary ml-2" id="saveDraftButton">
                                         <i class="fas fa-save mr-1"></i>Save Draft
                                     </button>
                                 </div>
                             </div>
                         </div>
                    </form>
                </div>
            </div>

            <!-- Combined Requirements and Process Section -->
            <div class="row mt-5">
                <div class="col-md-6 mb-4 mb-md-0">
                    <div class="card h-100 shadow-sm" style="animation: fadeInUp 1.5s ease-in-out;">
                        <div class="card-header d-flex align-items-center" style="background-color: #0b57d0; color: white;">
                            <i class="fas fa-clipboard-list fa-lg mr-2"></i>
                            <h2 class="mb-0 h5" style="color: white;">Detailed Admission Requirements</h2>
        </div>
                        <div class="card-body">
                            <p>To ensure a smooth admission process, please take note of the following requirements. Meeting these criteria is essential for your child's application to be considered.</p>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Age Appropriateness:</strong> Children are admitted to classes based on their age as of the beginning of the academic year. Typical age guidelines are:
                                    <ul class="list-unstyled ml-4">
                                        <li><i class="fas fa-angle-right mr-1"></i>Baby Class: 2.5 - 3.5 years</li>
                                        <li><i class="fas fa-angle-right mr-1"></i>Middle Class: 3.5 - 4.5 years</li>
                                        <li><i class="fas fa-angle-right mr-1"></i>Top Class: 4.5 - 5.5 years</li>
                                        <li><i class="fas fa-angle-right mr-1"></i>Primary 1: 5.5 - 6.5 years+</li>
                                    </ul>
                                </li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Previous Academic Records:</strong> Report card/transcript from the previous school (P.1-P.7).</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Birth Certificate:</strong> A copy of the original birth certificate.</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Passport Photographs:</strong> Two recent passport-sized photos of the child.</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Parent/Guardian Identification:</strong> Copy of National ID (NIN) or Passport.</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Assessment/Interview (if applicable):</strong> May be required.</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Medical Information:</strong> Requested upon successful admission.</li>
                                <li class="mb-2"><i class="fas fa-check-circle text-success mr-2"></i><strong>Commitment to School Values:</strong> Alignment with school ethos.</li>
                            </ul>
                            <p class="text-muted small"><em>Ensure all documents are clear. Originals may be requested for verification.</em></p>
    </div>
</div>
                </div>
                <div class="col-md-6">
                    <div class="card h-100 shadow-sm" style="animation: fadeInUp 2s ease-in-out;">
                        <div class="card-header d-flex align-items-center" style="background-color: #0b57d0; color: white;">
                            <i class="fas fa-tasks fa-lg mr-2"></i>
                            <h2 class="mb-0 h5" style="color: white;">Application Process Overview</h2>
                        </div>
                        <div class="card-body">
                            <ol class="list-unstyled">
                                <li class="mb-3"><span class="fa-li"><i class="fas fa-file-alt text-primary"></i></span><strong>1. Submit Application Form:</strong><br>Carefully complete all sections of the online admission form. Double-check all information for accuracy and ensure all required documents (Birth Certificate, Previous School Report, Passport Photo) are uploaded clearly.</li>
                                <li class="mb-3"><span class="fa-li"><i class="fas fa-search text-primary"></i></span><strong>2. Application Review:</strong><br>Our dedicated admissions team will thoroughly review your submitted application and documents. We check for completeness, age appropriateness for the desired class, and fulfillment of basic requirements.</li>
                                <li class="mb-3"><span class="fa-li"><i class="fas fa-comments text-primary"></i></span><strong>3. Assessment/Interview (if required):</strong><br>Depending on the class applied for and individual circumstances, we may contact you to schedule a simple, friendly assessment for your child or an informal interview with parents. This helps us understand your child's readiness and allows you to ask any questions.</li>
                                <li class="mb-3"><span class="fa-li"><i class="fas fa-bell text-primary"></i></span><strong>4. Notification of Status:</strong><br>You will be informed of the outcome of your application (e.g., Accepted, Waitlisted, or Regretted) via the email address and/or phone number provided. We aim to do this within 1-2 weeks after the application review or any assessment is completed.</li>
                                <li class="mb-3"><span class="fa-li"><i class="fas fa-award text-primary"></i></span><strong>5. Offer of Admission & Acceptance:</strong><br>If your child is successful, you will receive an official Offer of Admission letter. This letter will include details about the school fees structure, the deadline for acceptance, and instructions on how to secure your child's place.</li>
                                <li class="mb-2"><span class="fa-li"><i class="fas fa-user-check text-primary"></i></span><strong>6. Enrollment & Orientation:</strong><br>Once the acceptance terms are met and initial fees are paid, your child's enrollment is confirmed. You will then receive information about the school orientation program (a chance to meet teachers and tour the school), uniform purchase, and required school supplies.</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Combined Section -->

            <!-- Why Choose Us Section -->
            <div class="card mt-5 shadow-sm" style="animation: fadeInUp 2.5s ease-in-out;">
                <div class="card-header d-flex align-items-center" style="background-color: #0b57d0; color: white;">
                    <i class="fas fa-star fa-lg mr-2"></i>
                    <h2 class="mb-0 h5" style="color: white;">Why Choose St. Lawrence Junior School, Kabowa?</h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="text-center">
                                <i class="fas fa-graduation-cap fa-3x text-primary mb-2"></i>
                                <h5>Holistic Education</h5>
                                <p class="text-muted">We focus on academic excellence, character development, and co-curricular activities to nurture well-rounded individuals.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="text-center">
                                <i class="fas fa-users fa-3x text-primary mb-2"></i>
                                <h5>Experienced & Caring Staff</h5>
                                <p class="text-muted">Our dedicated teachers provide a supportive and stimulating learning environment for every child.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="text-center">
                                <i class="fas fa-shield-alt fa-3x text-primary mb-2"></i>
                                <h5>Safe & Nurturing Environment</h5>
                                <p class="text-muted">We prioritize the safety and well-being of our students, fostering a community where they feel valued and respected.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Why Choose Us Section -->

            <!-- Further Assistance Section -->
            <div class="mt-5 text-center p-4 border rounded bg-light shadow-sm" style="animation: fadeInUp 3s ease-in-out;">
                <h4><i class="fas fa-question-circle text-primary mr-2"></i>Have Questions or Need Assistance?</h4>
                <p class="lead">Our admissions team is here to help! If you have any questions about the application process or require further information, please don't hesitate to reach out.</p>
                <a href="Contact.html" class="btn btn-primary btn-lg"><i class="fas fa-phone-alt mr-2"></i>Contact Us</a>
                <p class="mt-3 mb-0">You can also visit our office or call us at <a href="tel:+256772420506">+256 772 420 506</a> / <a href="tel:+256701420506">+256 701 420 506</a>.</p>
            </div>
            <!-- End Further Assistance Section -->

        </div>
    </div>
</div>

    
 

<style>
/* Additional styles for the improved form */
.form-group {
    margin-bottom: 1.5rem;
}

.custom-file-label {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.progress {
    background-color: #e9ecef;
    border-radius: 0.25rem;
}

.progress-bar {
    background-color: #0b57d0;
    transition: width 0.3s ease;
}

.invalid-feedback {
    display: none;
    color: #dc3545;
    font-size: 80%;
    margin-top: 0.25rem;
}

.was-validated .form-control:invalid,
.form-control.is-invalid {
    border-color: #dc3545;
    padding-right: calc(1.5em + 0.75rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

.was-validated .form-control:invalid:focus,
.form-control.is-invalid:focus {
    border-color: #dc3545;
    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
}

.was-validated .form-control:invalid ~ .invalid-feedback,
.form-control.is-invalid ~ .invalid-feedback {
    display: block;
}

@media (max-width: 768px) {
    .form-group {
        margin-bottom: 1rem;
    }
    
    .btn {
        width: 100%;
        margin-bottom: 0.5rem;
    }
}
</style>

<style>
     .contact-section {
              display: flex;
              flex-wrap: wrap;
              gap: 20px;
              padding: 20px;
              background-color: #f9f9f9;
              border-radius: 10px;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }
</style>


    <!-- Footer Start -->
    <style>
        /* Modern Premium Footer Redesign */
        .contact-section {
          background: linear-gradient(135deg, #f8f9fa 0%, #e3f0ff 100%);
          border-top: 2px solid #0b57d0;
          box-shadow: 0 -2px 32px rgba(11,87,208,0.08);
          position: relative;
          overflow: hidden;
        }
        .contact-section .footer-bg-img {
          position: absolute;
          top: 0; left: 0; width: 100%; height: 100%;
          object-fit: cover;
          opacity: 0.5; /* Made darker */
          z-index: 0;
          pointer-events: none;
          background: url('img/9.jpg') center center/cover no-repeat;
        }
        .contact-section .row {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
          gap: 0;
          background: rgba(0,0,0,0.9);
          border-radius: 18px;
          box-shadow: 0 8px 32px rgba(11,87,208,0.10);
          padding: 48px 32px 24px 32px;
          margin: 0 auto;
          max-width: 1200px;
          position: relative;
          z-index: 2;
        }
        .footer-logo {
          width: 80px;
          height: 80px;
          object-fit: contain;
          border-radius: 16px;
          box-shadow: 0 4px 18px rgba(11,87,208,0.13);
          margin-bottom: 18px;
          background: #fff;
          padding: 8px;
          display: block;
        }
        .footer-col {
          flex: 1 1 220px;
          min-width: 220px;
          margin-bottom: 0;
          padding: 0 18px;
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          border-right: 1px solid #e3f0ff;
        }
        .footer-col:last-child { border-right: none; }
        .footer-title {
          font-size: 1.25rem;
          font-weight: 700;
          color: #4285f4;
          margin-bottom: 1.1rem;
          letter-spacing: 1px;
          text-shadow: 0 2px 8px rgba(11,87,208,0.04);
        }
        .footer-desc, .footer-contact {
          color: #fff;
          font-size: 1.08rem;
          margin-bottom: 0.7rem;
          line-height: 1.7;
          font-weight: 400;
        }
        .footer-contact {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 1.08rem;
        }
        .footer-contact i {
          background: linear-gradient(135deg, #4285f4 60%, #0b57d0 100%);
          color: #4285f4 !important;
          border-radius: 50%;
          padding: 8px;
          font-size: 1.5rem;
          margin-right: 8px;
          box-shadow: 0 2px 8px rgba(11,87,208,0.10);
          transition: background 0.3s, color 0.3s, transform 0.3s;
          text-shadow: 0 0 6px #fff, 0 0 2px #fff;
        }
        .footer-contact:hover i {
          background: linear-gradient(135deg, #4285f4 60%, #0b57d0 100%);
          color: #4285f4 !important;
          transform: scale(1.15) rotate(-8deg);
        }
        .footer-socials {
          display: flex;
          gap: 12px;
          margin-top: 10px;
        }
        .footer-socials a {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 38px;
          height: 38px;
          background: linear-gradient(135deg, #e3f0ff 60%, #0b57d0 100%);
          border-radius: 50%;
          box-shadow: 0 2px 8px rgba(11,87,208,0.10);
          transition: background 0.3s, transform 0.3s;
        }
        .footer-socials a:hover {
          background: #43e97b !important;
          border-color: #43e97b !important;
        }
        .footer-socials a:hover i {
          color: #181c3a !important;
        }
        .footer-socials i {
          color: #4285f4 !important;
          font-size: 1.4rem;
          transition: color 0.3s;
          text-shadow: 0 0 6px #fff, 0 0 2px #fff;
        }
        .footer-links {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        .footer-links a {
          color: #fff;
          font-weight: 500;
          text-decoration: none;
          transition: color 0.2s;
          font-size: 1.05rem;
        }
        .footer-links a:hover {
          color: #43e97b;
          text-decoration: underline;
        }
        .copyright-bar {
          width: 100vw;
          background: #181c3a;
          color: #fff;
          font-size: 1.08rem;
          font-weight: 500;
          letter-spacing: 0.5px;
          padding: 16px 0 12px 0;
          text-align: center;
          margin: 0;
          box-shadow: 0 -2px 16px rgba(11,87,208,0.08);
          border-top: 1.5px solid #0b57d0;
          z-index: 10;
          position: relative;
        }
        .copyright-bar .copyright-dev {
          color: #43e97b;
          font-weight: 600;
          margin-left: 8px;
        }
        /* Newsletter form styling */
        .newsletter-form {
            display: flex;
            margin-top: 15px;
        }
        .newsletter-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px 0 0 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }
        .newsletter-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        .newsletter-input:focus {
            border-color: #43e97b;
        }
        .newsletter-btn {
            background: #43e97b;
            border: none;
            border-radius: 0 8px 8px 0;
            padding: 12px 18px;
            cursor: pointer;
            transition: background 0.3s, transform 0.3s;
        }
        .newsletter-btn i {
            color: white;
            font-size: 1.1rem;
        }
        .newsletter-btn:hover {
            background: #0b57d0;
            transform: translateX(2px);
        }
        @media (max-width: 991px) {
          .contact-section .row {
            flex-direction: column;
            padding: 32px 4vw 18px 4vw;
            max-width: 98vw;
          }
          .footer-col {
            border-right: none;
            border-bottom: 1px solid #e3f0ff;
            margin-bottom: 18px;
            padding: 0 4vw 18px 4vw;
            min-width: 0;
            width: 100%;
            align-items: flex-start;
          }
          .footer-col:last-child { border-bottom: none; }
          .footer-logo { margin-bottom: 10px; }
        }
        @media (max-width: 576px) {
          .footer-title { font-size: 1.08rem; }
          .footer-desc, .footer-contact { font-size: 0.97rem; }
          .footer-socials a { width: 32px; height: 32px; }
          .contact-section .row { padding: 18px 2vw 8px 2vw; }
        }
    </style>

    <div class="container-fluid text-white py-5 px-sm-3 px-lg-5 contact-section" style="margin-top: 90px; position: relative; overflow: hidden;">
        <div class="footer-bg-img"></div>
        <!-- Dedicated Dark Overlay -->
        <div class="footer-dark-overlay" style="position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.55);z-index:1;pointer-events:none;"></div>
        <!-- Gradient Overlay -->
        <div style="position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(120deg,rgba(11,87,208,0.3) 0%,rgba(67,233,123,0.3) 100%);z-index:2;pointer-events:none;"></div>
        <div class="row pt-4 pb-2" style="position:relative;z-index:3;">
            <!-- About Us (with logo) -->
            <div class="footer-col footer-aboutus">
                <img src="img/5.jpg" alt="School Logo" class="footer-logo" />
                <div class="footer-title">About Us</div>
                <div class="footer-desc">St. Lawrence Junior School is committed to providing a holistic education that empowers students to excel academically and grow into responsible, compassionate citizens. We focus on nurturing individual talents and fostering a love for lifelong learning.</div>
                <div class="footer-title mt-4">School Hours</div>
                <div class="footer-desc mb-1">Monday – Friday: <strong>8:00 AM – 4:00 PM</strong></div>
                <div class="footer-desc">Saturday: <strong>9:00 AM – 1:00 PM</strong> (Office & Admissions)</div>
            </div>
            <!-- Quick Links -->
            <div class="footer-col footer-quicklinks">
                <div class="footer-title">Quick Links</div>
                <div class="footer-links">
                    <a href="index.html"><i class="fa fa-angle-right mr-2"></i>Home</a>
                    <a href="About.html"><i class="fa fa-angle-right mr-2"></i>About Us</a>
                    <a href="Admission.html"><i class="fa fa-angle-right mr-2"></i>Admissions</a>
                    <a href="Gallery.html"><i class="fa fa-angle-right mr-2"></i>Gallery</a>
                    <a href="Contact.html"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
                    <a href="Teachers.html"><i class="fa fa-angle-right mr-2"></i>Our Teachers</a>
                </div>
            </div>
            <!-- Get In Touch -->
            <div class="footer-col contact-info">
                <div class="footer-title">Get In Touch</div>
                <div class="footer-contact"><i class="fa fa-map-marker-alt"></i>P.O.BOX 36198, KAMPALA, UGANDA</div>
                <div class="footer-contact"><i class="fa fa-phone-alt"></i>+256 772 420 506</div>
                <div class="footer-contact"><i class="fa fa-phone-alt"></i>+256 701 420 506</div>
                <div class="footer-contact" style="margin-bottom: 32px; word-break: break-all; overflow-wrap: anywhere;"><i class="fa fa-envelope"></i>stlawrence.junior@yahoo.com</div>
                <div class="footer-socials">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <!-- Newsletter/Stay Connected -->
            <div class="footer-col footer-newsletter">
                <div class="footer-title">Stay Connected</div>
                <p class="footer-desc">Subscribe to our newsletter for the latest updates and news from St. Lawrence Junior School.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Your Email" class="newsletter-input">
                    <button type="submit" class="newsletter-btn"><i class="fa fa-paper-plane"></i></button>
                </form>
                <div class="footer-desc mt-3">Follow us on social media for daily insights and school life!</div>
            </div>
        </div>
    </div>
    <div class="copyright-bar">
        &copy; St. Lawrence Junior School 2025 | All rights reserved.
        <span class="copyright-dev">Designed & Developed by Ibrahim Sekimpi</span>
    </div>
    <!-- Tagline -->
    <div style="width:100%;text-align:center;color:#0b57d0;font-weight:600;font-size:1.1rem;letter-spacing:1px;margin:18px 0 0 0;z-index:2;position:relative;">
        Empowering Young Minds for a Brighter Tomorrow
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <style>
        /* Footer Styles */
        .contact-section {
            background: linear-gradient(135deg, #181c3a 0%, #0b57d0 100%);
            position: relative;
            overflow: hidden;
        }

        .footer-bg-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('img/pattern.png');
            opacity: 0.1;
            z-index: 1;
        }

        .footer-col {
            padding: 0 2vw;
            min-width: 250px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
        }

        .footer-col:last-child {
            border-right: none;
        }

        .footer-logo {
            width: 120px;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .footer-title {
            color: #fff;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background: #43e97b;
        }

        .footer-desc {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .footer-contact {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .footer-contact i {
            color: #43e97b;
            margin-right: 10px;
            font-size: 1.1rem;
        }

        .footer-socials {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .footer-socials a {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-socials a:hover {
            background: #43e97b;
            transform: translateY(-3px);
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .footer-links a {
            color: #fff;
            font-weight: 500;
            text-decoration: none;
            transition: color 0.2s;
            font-size: 1.05rem;
        }

        .footer-links a:hover {
            color: #43e97b;
            text-decoration: underline;
        }

        .copyright-bar {
            width: 100vw;
            background: #181c3a;
            color: #fff;
            font-size: 1.08rem;
            font-weight: 500;
            letter-spacing: 0.5px;
            padding: 16px 0 12px 0;
            text-align: center;
            margin: 0;
            box-shadow: 0 -2px 16px rgba(11,87,208,0.08);
            border-top: 1.5px solid #0b57d0;
            z-index: 10;
            position: relative;
        }

        .copyright-bar .copyright-dev {
            color: #43e97b;
            font-weight: 600;
            margin-left: 8px;
        }

        /* Newsletter form styling */
        .newsletter-form {
            display: flex;
            margin-top: 15px;
        }

        .newsletter-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px 0 0 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .newsletter-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .newsletter-input:focus {
            border-color: #43e97b;
        }

        .newsletter-btn {
            background: #43e97b;
            border: none;
            border-radius: 0 8px 8px 0;
            padding: 12px 18px;
            cursor: pointer;
            transition: background 0.3s, transform 0.3s;
        }

        .newsletter-btn i {
            color: white;
            font-size: 1.1rem;
        }

        .newsletter-btn:hover {
            background: #0b57d0;
            transform: translateX(2px);
        }

        /* Back-to-Top Button Styling */
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            background-color: #0b57d0;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }

        .back-to-top:hover {
            background-color: #0a4da3;
            transform: scale(1.1);
        }

        .back-to-top.d-none {
            opacity: 0;
            pointer-events: none;
        }

        @media (max-width: 991px) {
            .contact-section .row {
                flex-direction: column;
                padding: 32px 4vw 18px 4vw;
                max-width: 98vw;
            }
            .footer-col {
                border-right: none;
                border-bottom: 1px solid #e3f0ff;
                margin-bottom: 18px;
                padding: 0 4vw 18px 4vw;
                min-width: 0;
                width: 100%;
                align-items: flex-start;
            }
            .footer-col:last-child { border-bottom: none; }
            .footer-logo { margin-bottom: 10px; }
        }

        @media (max-width: 576px) {
            .footer-title { font-size: 1.08rem; }
            .footer-desc, .footer-contact { font-size: 0.97rem; }
            .footer-socials a { width: 32px; height: 32px; }
            .contact-section .row { padding: 18px 2vw 8px 2vw; }
        }
    </style>

    <script>
        // Back-to-Top Button Functionality
        const backToTopBtn = document.querySelector('.back-to-top');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopBtn.style.display = 'flex';
            } else {
                backToTopBtn.style.display = 'none';
            }
        });

        backToTopBtn.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>

    


    <script>
        $(document).ready(function() {
            // Initialize all dropdowns
            $('.dropdown-toggle').dropdown();
            
            // Add click event for mobile devices
            if (window.innerWidth < 992) {
                $('.dropdown-toggle').on('click', function(e) {
                    e.preventDefault();
                    $(this).next('.dropdown-menu').slideToggle(300);
                });
            }
            
            // Close dropdowns when clicking outside
            $(document).on('click', function(e) {
                if (!$(e.target).closest('.dropdown').length) {
                    $('.dropdown-menu').slideUp(300);
                }
            });

            // Form validation and progress tracking
            let formProgress = 0;
            // Updated totalFields to include new required fields
            const totalFields = $('input[required], select[required], textarea[required]').length;
            const studentInfoFields = $('#studentInfo').find('input[required], select[required], textarea[required]').length;
            const academicDetailsFields = $('#academicDetails').find('input[required], select[required], textarea[required]').length;
            const parentInfoFields = $('#parentInfo').find('input[required], select[required], textarea[required]').length;
            const emergencyContactsFields = $('#emergencyContacts').find('input[required], select[required], textarea[required]').length; // New
            const documentsFields = $('#documents').find('input[required], select[required], textarea[required]').length;

            function updateProgress() {
                const filledStudentInfoFields = $('#studentInfo').find('input[required], select[required], textarea[required]').filter(function() {
                    return $(this).val() !== '';
                }).length;
                $('#studentInfoBadge').text(`${filledStudentInfoFields}/${studentInfoFields}`);

                const filledAcademicDetailsFields = $('#academicDetails').find('input[required], select[required], textarea[required]').filter(function() {
                    return $(this).val() !== '';
                }).length;
                $('#academicDetailsBadge').text(`${filledAcademicDetailsFields}/${academicDetailsFields}`);

                const filledParentInfoFields = $('#parentInfo').find('input[required], select[required], textarea[required]').filter(function() {
                    return $(this).val() !== '';
                }).length;
                $('#parentInfoBadge').text(`${filledParentInfoFields}/${parentInfoFields}`);

                // New badge update for emergency contacts
                const filledEmergencyContactsFields = $('#emergencyContacts').find('input[required], select[required], textarea[required]').filter(function() {
                    return $(this).val() !== '';
                }).length;
                $('#emergencyContactsBadge').text(`${filledEmergencyContactsFields}/${emergencyContactsFields}`);

                const filledDocumentsFields = $('#documents').find('input[required], select[required], textarea[required]').filter(function() {
                    return $(this).val() !== '' || (this.type === 'file' && this.files.length > 0);
                }).length;
                $('#documentsBadge').text(`${filledDocumentsFields}/${documentsFields}`);

                const totalFilledFields = filledStudentInfoFields + filledAcademicDetailsFields + filledParentInfoFields + filledEmergencyContactsFields + filledDocumentsFields;
                formProgress = Math.round((totalFilledFields / totalFields) * 100);
                $('#formProgress').css('width', formProgress + '%');
                $('#progressText').text(formProgress + '% Complete');
            }

            // Update progress on any input change
            $('input, select, textarea').on('change keyup', updateProgress);
            // Also call it once on load to set initial state
            updateProgress();

            // Clear any existing drafts on page load
            // Commenting out for development, uncomment for production
            // localStorage.removeItem('admissionFormDraft');

            // Load draft on page load
            const savedDraft = localStorage.getItem('admissionFormDraft');
            if (savedDraft) {
                const draftData = JSON.parse(savedDraft);
                for (const key in draftData) {
                    const input = $(`#${key}`);
                    if (input.is(':checkbox')) {
                        input.prop('checked', draftData[key]);
                    } else {
                        input.val(draftData[key]);
                    }
                }
                updateProgress(); // Update progress after loading draft
                Swal.fire({
                    title: 'Draft Loaded!',
                    text: 'Your previously saved application draft has been loaded.',
                    icon: 'info',
                    confirmButtonColor: '#0b57d0'
                });
            }

            // Download PDF functionality
            $('#downloadButton').on('click', function() {
                // Show loading state
                const button = $(this);
                const originalText = button.html();
                button.html('<i class="fas fa-spinner fa-spin mr-1"></i>Generating PDF...');
                button.prop('disabled', true);

                // Use jsPDF to create PDF
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();

                // Function to check and add new page
                function ensureSpace(doc, currentY, requiredSpace) {
                    const pageHeight = doc.internal.pageSize.height;
                    const bottomMargin = 30; // Adjust as needed
                    if (currentY + requiredSpace > (pageHeight - bottomMargin)) {
                        doc.addPage();
                        return 30; // New starting Y position for the new page
                    }
                    return currentY;
                }

                // Get form data
                const formData = new FormData($('#admissionForm')[0]);

                // Add school logo and title
                const imgData = 'img/5.jpg'; // Path to your school logo
                const imgWidth = 30;
                const imgHeight = 30;
                const imgX = (doc.internal.pageSize.width - imgWidth) / 2;
                doc.addImage(imgData, 'JPEG', imgX, 15, imgWidth, imgHeight);

                doc.setFontSize(22);
                doc.setFont('helvetica', 'bold');
                doc.text('St. Lawrence Junior School - Kabowa', 105, 55, { align: 'center' });

                doc.setFontSize(18);
                doc.setFont('helvetica', 'normal');
                doc.text('Admission Form', 105, 65, { align: 'center' });

                let yPos = 85; // Adjusted starting Y position for content

                // Student Information Section
                yPos = ensureSpace(doc, yPos, 130); // Estimate space needed for this section
                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Student Information', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');
                doc.text(`First Name: ${formData.get('fname') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Last Name: ${formData.get('sname') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Age: ${formData.get('age') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Date of Birth: ${formData.get('dob') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Gender: ${formData.get('gender') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Nationality: ${formData.get('nationality') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Religion (Optional): ${formData.get('religion') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Special Medical Conditions/Allergies: ${formData.get('specialNeeds') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Class to Join: ${formData.get('class') || ''}`, 20, yPos);
                yPos += 15;

                // Previous Academic Details Section
                yPos = ensureSpace(doc, yPos, 60); // Estimate space
                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Previous Academic Details', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');
                doc.text(`Name of Previous School: ${formData.get('prevSchoolName') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Address of Previous School: ${formData.get('prevSchoolAddress') || ''}`, 20, yPos);
                yPos += 8;
                doc.text(`Reason for Leaving: ${formData.get('reasonForLeaving') || ''}`, 20, yPos);
                yPos += 15;

                // Parent/Guardian Information Section
                yPos = ensureSpace(doc, yPos, 140); // Adjusted estimate for new field
                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Parent/Guardian Information', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');
                
                const studentInfoFields = [
                    { label: 'First Name', name: 'fname' },
                    { label: 'Last Name', name: 'sname' },
                    { label: 'Age', name: 'age' },
                    { label: 'Date of Birth', name: 'dob' },
                    { label: 'Gender', name: 'gender' },
                    { label: 'Nationality', name: 'nationality' },
                    { label: 'Religion (Optional)', name: 'religion' },
                    { label: 'Special Medical Conditions/Allergies', name: 'specialNeeds' },
                    { label: 'Class to Join', name: 'class' }
                ];

                studentInfoFields.forEach(field => {
                    const value = formData.get(field.name) || '';
                    doc.text(`${field.label}:`, 20, yPos);
                    if (value.trim() !== '') {
                        doc.text(value, doc.getTextWidth(`${field.label}: `) + 20, yPos);
                    } else {
                        doc.line(doc.getTextWidth(`${field.label}: `) + 20, yPos + 3, doc.internal.pageSize.width - 20, yPos + 3);
                    }
                    yPos += 8;
                });

                yPos += 7; // Small extra space before next section

                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Previous Academic Details', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');

                const academicFields = [
                    { label: 'Name of Previous School', name: 'prevSchoolName' },
                    { label: 'Address of Previous School', name: 'prevSchoolAddress' },
                    { label: 'Reason for Leaving', name: 'reasonForLeaving' }
                ];

                academicFields.forEach(field => {
                    const value = formData.get(field.name) || '';
                    doc.text(`${field.label}:`, 20, yPos);
                    if (value.trim() !== '') {
                        doc.text(value, doc.getTextWidth(`${field.label}: `) + 20, yPos);
                    } else {
                        doc.line(doc.getTextWidth(`${field.label}: `) + 20, yPos + 3, doc.internal.pageSize.width - 20, yPos + 3);
                    }
                    yPos += 8;
                });

                yPos += 7; // Small extra space before next section

                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Parent/Guardian Information', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');

                const parentInfoFieldsPdf = [
                    { label: 'Parent/Guardian Name', name: 'parentName' },
                    { label: 'Address', name: 'address' },
                    { label: 'Occupation', name: 'occupation' },
                    { label: 'NIN', name: 'nin' },
                    { label: 'Alternative Phone', name: 'altPhone' },
                    { label: 'Email Address', name: 'email' },
                    { label: 'Relationship to Child', name: 'relationshipToChild' },
                    { label: 'How did you hear about us?', name: 'howHeard' }
                ];

                parentInfoFieldsPdf.forEach(field => {
                    const value = formData.get(field.name) || '';
                    doc.text(`${field.label}:`, 20, yPos);
                    if (value.trim() !== '') {
                        doc.text(value, doc.getTextWidth(`${field.label}: `) + 20, yPos);
                    } else {
                        doc.line(doc.getTextWidth(`${field.label}: `) + 20, yPos + 3, doc.internal.pageSize.width - 20, yPos + 3);
                    }
                    yPos += 8;
                });
                yPos += 15;

                // Emergency Contact Section (New)
                yPos = ensureSpace(doc, yPos, 90); // Estimate space for new section
                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Emergency Contacts', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');
                
                const emergencyContactFieldsPdf = [
                    { label: 'Emergency Contact Full Name', name: 'emergencyContactName' },
                    { label: 'Relationship to Student', name: 'emergencyRelationship' },
                    { label: 'Emergency Phone Number', name: 'emergencyPhone' },
                    { label: 'Emergency Email Address', name: 'emergencyEmail' } // Optional field
                ];

                emergencyContactFieldsPdf.forEach(field => {
                    const value = formData.get(field.name) || '';
                    doc.text(`${field.label}:`, 20, yPos);
                    if (value.trim() !== '') {
                        doc.text(value, doc.getTextWidth(`${field.label}: `) + 20, yPos);
                    } else {
                        doc.line(doc.getTextWidth(`${field.label}: `) + 20, yPos + 3, doc.internal.pageSize.width - 20, yPos + 3);
                    }
                    yPos += 8;
                });
                yPos += 15;

                // Required Documents Section
                yPos = ensureSpace(doc, yPos, 80); // Estimate space for documents + notes + footer
                doc.setFontSize(10); // Smaller font for note
                doc.setFont('helvetica', 'normal');
                doc.text('Note: Please attach all required documents with this form.', 20, yPos);
                yPos += 15; // Increased spacing after note

                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Required Documents', 20, yPos);
                // Draw an underline for "Required Documents"
                const textWidth = doc.getTextWidth('Required Documents');
                doc.line(20, yPos + 2, 20 + textWidth, yPos + 2); // x1, y1, x2, y2
                yPos += 10; // Spacing after title and line

                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');

                // Using doc.rect for checkboxes
                const checkboxSize = 3;
                const checkboxX = 20;

                doc.rect(checkboxX, yPos - checkboxSize / 2 - 1, checkboxSize, checkboxSize); // x, y, width, height
                doc.text('Birth Certificate (Attached: ' + (formData.get('birthCertificate')?.name || 'No') + ')', checkboxX + checkboxSize + 3, yPos); // Text beside checkbox
                yPos += 10;

                doc.rect(checkboxX, yPos - checkboxSize / 2 - 1, checkboxSize, checkboxSize);
                doc.text('Previous School Report (Attached: ' + (formData.get('previousReport')?.name || 'No') + ')', checkboxX + checkboxSize + 3, yPos);
                yPos += 10;

                doc.rect(checkboxX, yPos - checkboxSize / 2 - 1, checkboxSize, checkboxSize);
                doc.text('Passport Photo (Attached: ' + (formData.get('passportPhoto')?.name || 'No') + ')', checkboxX + checkboxSize + 3, yPos);
                yPos += 15;

                // Additional Comments Section (New)
                yPos = ensureSpace(doc, yPos, 60); // Estimate space for additional comments
                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Additional Comments', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');
                const comments = formData.get('additionalComments') || '';
                if (comments.trim() !== '') {
                    const splitComments = doc.splitTextToSize(comments, doc.internal.pageSize.width - 40);
                    splitComments.forEach(line => {
                        doc.text(line, 20, yPos);
                        yPos += 8;
                    });
                } else {
                    doc.line(20, yPos + 4, doc.internal.pageSize.width - 20, yPos + 4); // Draw a line from left to right margin
                    yPos += 15; // Provide space for manual writing below the line
                }
                yPos += 5; // Small extra space after comments

                // Declaration and Consent by Parent/Guardian Section
                yPos = ensureSpace(doc, yPos, 80); // Estimate space
                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('Declaration and Consent by Parent/Guardian', 20, yPos);
                yPos += 10;
                doc.setFontSize(10);
                doc.setFont('helvetica', 'normal');
                const declarationText = [
                    'I, the undersigned, hereby declare that the information provided in this application form is true and accurate to the best of my knowledge and belief.',
                    'I understand that any false statement may lead to the cancellation of the application or admission.',
                    'I also consent to my child participating in school activities and excursions, and I authorize the school to seek medical attention if required.'
                ];
                declarationText.forEach(line => {
                    doc.text(line, 20, yPos, { maxWidth: doc.internal.pageSize.width - 40 });
                    yPos += 7;
                });
                yPos += 10;

                doc.text('________________________', 20, yPos); // Signature line
                doc.text('Parent/Guardian Signature', 20, yPos + 5);
                yPos += 15;

                doc.text('________________________', 20, yPos); // Name line
                doc.text('Printed Name', 20, yPos + 5);
                yPos += 15;

                doc.text('________________________', 20, yPos); // Date line
                doc.text('Date', 20, yPos + 5);
                yPos += 15;

                // For Official Use Only Section
                yPos = ensureSpace(doc, yPos, 60); // Estimate space
                doc.setFontSize(14);
                doc.setFont('helvetica', 'bold');
                doc.text('For Official Use Only', 20, yPos);
                yPos += 10;
                doc.setFontSize(12);
                doc.setFont('helvetica', 'normal');
                doc.text('Application Status: _______________________', 20, yPos);
                yPos += 10;
                doc.text('Admission Date: _______________________', 20, yPos);
                yPos += 10;
                doc.text('Admission Officer: _______________________', 20, yPos);
                yPos += 15;

                // General Footer (Already exists, ensuring it's at the end)
                yPos = ensureSpace(doc, yPos, 10); // Ensure space for the last footer line
                doc.setFontSize(10);
                doc.setFont('helvetica', 'normal');
                doc.text('For office use only: _______________________', 20, yPos);

                // Save the PDF
                doc.save('admission_form.pdf');

                // Reset button state
                button.html(originalText);
                button.prop('disabled', false);
            });

            // Form submission
            $('#admissionForm').on('submit', function(e) {
                e.preventDefault();

                // Validate form
                if (!this.checkValidity()) {
                    e.stopPropagation();
                    $(this).addClass('was-validated');
                    // Scroll to the first invalid field
                    const firstInvalid = $('.form-control:invalid').first();
                    if (firstInvalid.length) {
                        $('html, body').animate({
                            scrollTop: firstInvalid.closest('fieldset').offset().top - 100
                        }, 500);
                    }
                    return;
                }

                // Show loading state
                const submitButton = $(this).find('button[type="submit"]');
                const originalText = submitButton.html();
                submitButton.html('<i class="fas fa-spinner fa-spin mr-1"></i>Submitting...');
                submitButton.prop('disabled', true);

                // Collect form data
                const formData = new FormData(this);

                // Simulate form submission (replace with actual API endpoint)
                setTimeout(() => {
                    // Show success message
                    Swal.fire({
                        title: 'Success!',
                        text: 'Your application has been submitted successfully. We will contact you soon.',
                        icon: 'success',
                        confirmButtonColor: '#0b57d0'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            // Reset form
                            $('#admissionForm')[0].reset();
                            $('#admissionForm').removeClass('was-validated');
                            updateProgress();
                            // Clear any saved drafts
                            localStorage.removeItem('admissionFormDraft');
                        }
                    });

                    // Reset button state
                    submitButton.html(originalText);
                    submitButton.prop('disabled', false);
                }, 2000);
            });

            // Preview functionality
            $('#previewButton').on('click', function() {
                const formData = new FormData($('#admissionForm')[0]);
                let previewContent = '<div class="preview-content" style="text-align: left; max-height: 70vh; overflow-y: auto;">';
                previewContent += '<h3 class="text-center mb-4" style="color: #0b57d0;">Application Preview</h3>';
                
                const sections = {
                    studentInfo: "Student's Information",
                    academicDetails: "Previous Academic Details",
                    parentInfo: "Parent/Guardian's Information",
                    emergencyContacts: "Emergency Contacts", // New section
                    documents: "Required Documents"
                };

                for (const sectionId in sections) {
                    const fieldset = $(`#${sectionId}`);
                    const fields = fieldset.find('input, select, textarea');
                    let sectionHasData = false;
                    let sectionData = '';

                    fields.each(function() {
                        const input = $(this);
                        let value = input.val();
                        let label = input.prev('label').text().replace('*', '').trim(); // Get label text

                        if (input.attr('type') === 'file') {
                            value = this.files.length > 0 ? this.files[0].name : 'Not uploaded';
                        } else if (input.is('select') && input.find('option:selected').text().includes('Select')) {
                            value = ''; // Don't show "Select..."
                        }

                        if (value) {
                            sectionHasData = true;
                            sectionData += `<p><strong>${label}:</strong> ${value}</p>`;
                        }
                    });

                    if (sectionHasData) {
                        previewContent += `<h4 class="mt-4 mb-3" style="color: #17a2b8;">${sections[sectionId]}</h4>`;
                        previewContent += sectionData;
                    }
                }

                // Handle Additional Comments separately as it's not part of a specific badge-tracked section
                const additionalComments = formData.get('additionalComments');
                if (additionalComments) {
                    previewContent += '<h4 class="mt-4 mb-3" style="color: #17a2b8;">Additional Comments</h4>';
                    previewContent += `<p>${additionalComments}</p>`;
                }
                
                previewContent += '</div>';

                Swal.fire({
                    title: 'Application Preview',
                    html: previewContent,
                    width: '700px',
                    confirmButtonColor: '#0b57d0'
                });
            });

            // Save draft functionality
            $('#saveDraftButton').on('click', function() {
                const draftData = {};
                $('#admissionForm').find('input, select, textarea').each(function() {
                    const input = $(this);
                    if (input.attr('type') === 'file') {
                        // File inputs cannot be saved directly, just store their state (if a file was selected)
                        draftData[input.attr('id')] = this.files.length > 0 ? true : false;
                    } else if (input.is(':checkbox')) {
                        draftData[input.attr('id')] = input.prop('checked');
                    } else {
                        draftData[input.attr('id')] = input.val();
                    }
                });
                
                // Save to localStorage
                localStorage.setItem('admissionFormDraft', JSON.stringify(draftData));
                
                Swal.fire({
                    title: 'Draft Saved!',
                    text: 'Your application has been saved as a draft.',
                    icon: 'success',
                    confirmButtonColor: '#0b57d0'
                });
            });

            // Add clear form button functionality
            $('<button type="button" class="btn btn-outline-danger ml-2" id="clearFormButton"><i class="fas fa-trash-alt mr-1"></i>Clear Form</button>')
                .insertAfter('#saveDraftButton')
                .on('click', function() {
                    Swal.fire({
                        title: 'Clear Form?',
                        text: 'Are you sure you want to clear all form data? This cannot be undone.',
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#dc3545',
                        cancelButtonColor: '#6c757d',
                        confirmButtonText: 'Yes, clear it!'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            $('#admissionForm')[0].reset();
                            $('#admissionForm').removeClass('was-validated');
                            updateProgress();
                            localStorage.removeItem('admissionFormDraft');
                            Swal.fire('Cleared!', 'The form has been cleared.', 'success');
                        }
                    });
                });
        });
    </script>

    <!-- Add jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>